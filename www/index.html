<!DOCTYPE html>
<html>
    <head>
        <title>California's Prison Industry: Educational or Exploitative?</title>
        <link rel="stylesheet" href="style.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    </head>
    <body>
    <div id="scroll-wrapper">
        <div class="scroll current">
            <h1>California's Prison Industry: Educational or Exploitative?</h1>
        </div>
        <div class="scroll">
            <p>California's  Prison Industry Authority (CALPIA) offers opportunities for between 5,000 to 7,000 of its roughly 100,000 inmates
                in state facilities to work various jobs. Positions range from internal roles cleaning prisons or running mess halls
                to workshops that produce and sell goods like furniture, baked goods, shoes, license plates, and other domestic
                products. This report will focus on jobs that CALPIA categorizes as manufacturing, service, or agricultural work - 
                those whose products may end up in the homes of Californians daily.
            </p>
        </div>
        <div class="scroll">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="marks" width="550" height="215" viewBox="0 0 550 215"><rect width="550" height="215" fill="#EEE5E9"/><g fill="none" stroke-miterlimit="10" transform="translate(182,23)"><g class="mark-group role-frame root" role="graphics-object" aria-roledescription="group mark container"><g transform="translate(0,0)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z"/><g><g class="mark-group role-scope concat_0_group" role="graphics-object" aria-roledescription="group mark container"><g transform="translate(0,0)"><path class="background" aria-hidden="true" d="M0.5,0.5h300v100h-300Z" stroke="#ddd"/><g><g class="mark-group role-axis" aria-hidden="true"><g transform="translate(0.5,100.5)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-rule role-axis-grid" pointer-events="none"><line transform="translate(0,0)" x2="0" y2="-100" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(50,0)" x2="0" y2="-100" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(100,0)" x2="0" y2="-100" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(150,0)" x2="0" y2="-100" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(200,0)" x2="0" y2="-100" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(250,0)" x2="0" y2="-100" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(300,0)" x2="0" y2="-100" stroke="#ddd" stroke-width="1" opacity="1"/></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-group role-axis" role="graphics-symbol" aria-roledescription="axis" aria-label="X-axis titled 'Worker Count' for a linear scale with values from 0 to 6,000"><g transform="translate(0.5,100.5)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-rule role-axis-tick" pointer-events="none"><line transform="translate(0,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(50,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(100,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(150,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(200,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(250,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(300,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/></g><g class="mark-text role-axis-label" pointer-events="none"><text text-anchor="start" transform="translate(0,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">0</text><text text-anchor="middle" transform="translate(50,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">1,000</text><text text-anchor="middle" transform="translate(100,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">2,000</text><text text-anchor="middle" transform="translate(150,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">3,000</text><text text-anchor="middle" transform="translate(200,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">4,000</text><text text-anchor="middle" transform="translate(250,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">5,000</text><text text-anchor="end" transform="translate(300,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">6,000</text></g><g class="mark-rule role-axis-domain" pointer-events="none"><line transform="translate(0,0)" x2="300" y2="0" stroke="#888" stroke-width="1" opacity="1"/></g><g class="mark-text role-axis-title" pointer-events="none"><text text-anchor="middle" transform="translate(150,30)" font-family="sans-serif" font-size="11px" font-weight="bold" fill="#000" opacity="1">Worker Count</text></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-group role-axis" role="graphics-symbol" aria-roledescription="axis" aria-label="Y-axis titled 'Employer' for a discrete scale with 5 values: SpaceX, Costco, California Prison Industry Authority, Adventist Health, Warner Bros. Entertainment"><g transform="translate(0.5,0.5)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-rule role-axis-tick" pointer-events="none"><line transform="translate(0,10)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,30)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,50)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,70)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,90)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/></g><g class="mark-text role-axis-label" pointer-events="none"><text text-anchor="end" transform="translate(-7,12.5)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">SpaceX</text><text text-anchor="end" transform="translate(-7,32.5)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">Costco</text><text text-anchor="end" transform="translate(-7,52.5)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">California Prison Industry Authority</text><text text-anchor="end" transform="translate(-7,72.5)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">Adventist Health</text><text text-anchor="end" transform="translate(-7,92.5)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">Warner Bros. Entertainment</text></g><g class="mark-rule role-axis-domain" pointer-events="none"><line transform="translate(0,0)" x2="0" y2="100" stroke="#888" stroke-width="1" opacity="1"/></g><g class="mark-text role-axis-title" pointer-events="none"><text text-anchor="middle" transform="translate(-164.4033203125,50) rotate(-90) translate(0,-2)" font-family="sans-serif" font-size="11px" font-weight="bold" fill="#000" opacity="1">Employer</text></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-rect role-mark concat_0_marks" role="graphics-object" aria-roledescription="rect mark container"><path aria-label="Worker Count: 4687; Employer: California Prison Industry Authority" role="graphics-symbol" aria-roledescription="bar" d="M0,41h234.35v18h-234.35Z" fill="#CF5C36" stroke="#000000"/><path aria-label="Worker Count: 4100; Employer: Warner Bros. Entertainment" role="graphics-symbol" aria-roledescription="bar" d="M0,81h205v18h-205Z" fill="#CF5C36" stroke="#000000"/><path aria-label="Worker Count: 5500; Employer: Costco" role="graphics-symbol" aria-roledescription="bar" d="M0,21h275v18h-275Z" fill="#CF5C36" stroke="#000000"/><path aria-label="Worker Count: 4600; Employer: Adventist Health" role="graphics-symbol" aria-roledescription="bar" d="M0,61h230.00000000000003v18h-230.00000000000003Z" fill="#CF5C36" stroke="#000000"/><path aria-label="Worker Count: 6000; Employer: SpaceX" role="graphics-symbol" aria-roledescription="bar" d="M0,1h300v18h-300Z" fill="#CF5C36" stroke="#000000"/></g><g class="mark-group role-title"><g transform="translate(150,-17)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-text role-title-text" role="graphics-symbol" aria-roledescription="title" aria-label="Title text 'CALPIA Employment Compared to Los Angeles County Employment'" pointer-events="none"><text text-anchor="middle" transform="translate(0,10)" font-family="sans-serif" font-size="13px" font-weight="bold" fill="#000" opacity="1">CALPIA Employment Compared to Los Angeles County Employment</text></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g></g><path class="foreground" aria-hidden="true" d="" display="none"/></g></g><g class="mark-group role-scope concat_1_group" role="graphics-object" aria-roledescription="group mark container"><g transform="translate(0,153)"><path class="background" aria-hidden="true" d="M0,0h20v20h-20Z"/><g><g class="mark-text role-mark concat_1_marks" role="graphics-object" aria-roledescription="text mark container"><text aria-label="text: CALPIA Data as of 2023, LA Data as of 2022,Sources: California Prison Industry Authority,,Los Angeles Almanac" role="graphics-symbol" aria-roledescription="text mark" text-anchor="start" transform="translate(10,8)" font-family="sans-serif" font-size="10px" fill="black"><tspan>CALPIA Data as of 2023, LA Data as of 2022</tspan><tspan x="0" dy="12">Sources: California Prison Industry Authority,</tspan><tspan x="0" dy="12">Los Angeles Almanac</tspan></text></g></g><path class="foreground" aria-hidden="true" d="" display="none"/></g></g></g><path class="foreground" aria-hidden="true" d="" display="none"/></g></g></g></svg>
        </div>
        <div class="scroll">
            <p>California has as many inmate workers as several largescale companies in the state who helped their industries turn
                a profit of 56,480,000 in FY 2023.
            </p>
        </div>
        <div class="non-scroll">
            <p>
                Given this sizeable workforce, how much do you think that an inmate would be paid on average? In the below graph,
                click and drag the bar to guess for the California Department of Corrections.
            </p>
        </div>
        <div class="scroll">
            <svg
            version="2"
            width="600"
            height="300"
            viewBox="0 0 600 300"
            xmlns="http://www.w3.org/2000/svg"
            >
            <rect id="rect0" y="0" width="5" height="30" />
            <text id="text0" y="15" style="fill: black; font-size: 12px"></text>
            <rect id="rect1" y="0" width="5" height="30" />
            <text id="text1" y="15" style="fill: black; font-size: 12px"></text>
            <rect id="rect2" y="0" width="5" height="30" />
            <text id="text2" y="15" style="fill: black; font-size: 12px"></text>
            <rect id="rect3" y="0" width="5" height="30" />
            <text id="text3" y="15" style="fill: black; font-size: 12px"></text>
            <rect id="rect4" y="0" width="5" height="30" />
            <text id="text4" y="15" style="fill: black; font-size: 12px"></text>
            <rect id="rect5" y="0" width="5" height="30" />
            <text id="text5" y="15" style="fill: black; font-size: 12px"></text>
            </svg>            
        <script>
          const maxX = 50;
          const industries = [
            { industry: "Building and Grounds Maintenance", wage: 21.07, color: "#EFC88B"},
            { industry: "Food Preparation and Service", wage: 18.70, color: "#EFC88B"},
            { industry: "Construction and Extraction", wage: 34.59, color: "#EFC88B"},
            { industry: "Installation, Maintenance, and Repair", wage: 31.47, color: "#EFC88B"},
            { industry: "Production", wage: 24.39, color: "#EFC88B"},
            { industry: "California Department of Corrections", wage: 1, color: "#EFC88B"}
          ];
          for (let i = 0; i < industries.length; i++) {
            let rect = document.getElementById(`rect${i}`);
            let text = document.getElementById(`text${i}`);

            let current_industry = industries[i]

            let width_assign = (current_industry["wage"]/50)*600

            text.textContent = current_industry["industry"]

            text.setAttribute("y", 20 + i*40)

            rect.setAttribute("width", width_assign)

            rect.setAttribute("y", i*40)

            rect.setAttribute("fill", current_industry["color"])
          }
        let dragRect = document.getElementById("rect5");
        let isDragging = false;

        dragRect.style.cursor = "ew-resize";

        dragRect.addEventListener("mousedown", (e) => {
        isDragging = true;
        });

        window.addEventListener("mousemove", (e) => {
        if (!isDragging) return;

        const svg = document.querySelector("svg");
        const pt = svg.createSVGPoint();
        pt.x = e.clientX;
        pt.y = e.clientY;
        const cursor = pt.matrixTransform(svg.getScreenCTM().inverse());

        let newWidth = Math.max(0, Math.min(cursor.x, 600));

        dragRect.setAttribute("width", newWidth);
        });

        window.addEventListener("mouseup", () => {
        isDragging = false;
        });
        </script>
        </div>
        <div class="non-scroll">
            <p>
                Let's see what the actual numbers are.
            </p>
        </div>
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="marks" width="531" height="235" viewBox="0 0 531 235"><rect width="531" height="235" fill="white"/><g fill="none" stroke-miterlimit="10" transform="translate(208,23)"><g class="mark-group role-frame root" role="graphics-object" aria-roledescription="group mark container"><g transform="translate(0,0)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z"/><g><g class="mark-group role-scope concat_0_group" role="graphics-object" aria-roledescription="group mark container"><g transform="translate(0,0)"><path class="background" aria-hidden="true" d="M0.5,0.5h300v120h-300Z" stroke="#ddd"/><g><g class="mark-group role-axis" aria-hidden="true"><g transform="translate(0.5,120.5)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-rule role-axis-grid" pointer-events="none"><line transform="translate(0,0)" x2="0" y2="-120" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(43,0)" x2="0" y2="-120" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(86,0)" x2="0" y2="-120" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(129,0)" x2="0" y2="-120" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(171,0)" x2="0" y2="-120" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(214,0)" x2="0" y2="-120" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(257,0)" x2="0" y2="-120" stroke="#ddd" stroke-width="1" opacity="1"/><line transform="translate(300,0)" x2="0" y2="-120" stroke="#ddd" stroke-width="1" opacity="1"/></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-group role-axis" role="graphics-symbol" aria-roledescription="axis" aria-label="X-axis titled 'Mean Hourly Wage' for a linear scale with values from 0 to 35"><g transform="translate(0.5,120.5)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-rule role-axis-tick" pointer-events="none"><line transform="translate(0,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(43,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(86,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(129,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(171,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(214,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(257,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(300,0)" x2="0" y2="5" stroke="#888" stroke-width="1" opacity="1"/></g><g class="mark-text role-axis-label" pointer-events="none"><text text-anchor="start" transform="translate(0,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">0</text><text text-anchor="middle" transform="translate(42.857142857142854,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">5</text><text text-anchor="middle" transform="translate(85.71428571428571,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">10</text><text text-anchor="middle" transform="translate(128.57142857142856,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">15</text><text text-anchor="middle" transform="translate(171.42857142857142,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">20</text><text text-anchor="middle" transform="translate(214.28571428571428,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">25</text><text text-anchor="middle" transform="translate(257.1428571428571,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">30</text><text text-anchor="end" transform="translate(300,15)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">35</text></g><g class="mark-rule role-axis-domain" pointer-events="none"><line transform="translate(0,0)" x2="300" y2="0" stroke="#888" stroke-width="1" opacity="1"/></g><g class="mark-text role-axis-title" pointer-events="none"><text text-anchor="middle" transform="translate(150,30)" font-family="sans-serif" font-size="11px" font-weight="bold" fill="#000" opacity="1">Mean Hourly Wage</text></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-group role-axis" role="graphics-symbol" aria-roledescription="axis" aria-label="Y-axis titled 'Industry' for a discrete scale with 6 values: Construction and Extraction, Installation, Maintenance, and Repair, Production, Building and Grounds Cleaning and Maintenance, Food Preparation and Service, California Department of Corrections"><g transform="translate(0.5,0.5)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-rule role-axis-tick" pointer-events="none"><line transform="translate(0,10)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,30)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,50)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,70)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,90)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/><line transform="translate(0,110)" x2="-5" y2="0" stroke="#888" stroke-width="1" opacity="1"/></g><g class="mark-text role-axis-label" pointer-events="none"><text text-anchor="end" transform="translate(-7,12.5)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">Construction and Extraction</text><text text-anchor="end" transform="translate(-7,32.5)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">Installation, Maintenance, and Repair</text><text text-anchor="end" transform="translate(-7,52.5)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">Production</text><text text-anchor="end" transform="translate(-7,72.5)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">Building and Grounds Cleaning and Mâ€¦</text><text text-anchor="end" transform="translate(-7,92.5)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">Food Preparation and Service</text><text text-anchor="end" transform="translate(-7,112.5)" font-family="sans-serif" font-size="10px" fill="#000" opacity="1">California Department of Corrections</text></g><g class="mark-rule role-axis-domain" pointer-events="none"><line transform="translate(0,0)" x2="0" y2="120" stroke="#888" stroke-width="1" opacity="1"/></g><g class="mark-text role-axis-title" pointer-events="none"><text text-anchor="middle" transform="translate(-191,60) rotate(-90) translate(0,-2)" font-family="sans-serif" font-size="11px" font-weight="bold" fill="#000" opacity="1">Industry</text></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g><g class="mark-rect role-mark concat_0_marks" role="graphics-object" aria-roledescription="rect mark container"><path aria-label="Mean Hourly Wage: 0.35; Industry: California Department of Corrections" role="graphics-symbol" aria-roledescription="bar" d="M0,101h3v18h-3Z" fill="#EFC88B" stroke="#000000"/><path aria-label="Mean Hourly Wage: 21.07; Industry: Building and Grounds Cleaning and Maintenance" role="graphics-symbol" aria-roledescription="bar" d="M0,61h180.6v18h-180.6Z" fill="#EFC88B" stroke="#000000"/><path aria-label="Mean Hourly Wage: 18.7; Industry: Food Preparation and Service" role="graphics-symbol" aria-roledescription="bar" d="M0,81h160.28571428571428v18h-160.28571428571428Z" fill="#EFC88B" stroke="#000000"/><path aria-label="Mean Hourly Wage: 34.59; Industry: Construction and Extraction" role="graphics-symbol" aria-roledescription="bar" d="M0,1h296.4857142857143v18h-296.4857142857143Z" fill="#EFC88B" stroke="#000000"/><path aria-label="Mean Hourly Wage: 31.47; Industry: Installation, Maintenance, and Repair" role="graphics-symbol" aria-roledescription="bar" d="M0,21h269.74285714285713v18h-269.74285714285713Z" fill="#EFC88B" stroke="#000000"/><path aria-label="Mean Hourly Wage: 24.39; Industry: Production" role="graphics-symbol" aria-roledescription="bar" d="M0,41h209.05714285714285v18h-209.05714285714285Z" fill="#EFC88B" stroke="#000000"/></g><g class="mark-group role-title"><g transform="translate(150,-17)"><path class="background" aria-hidden="true" d="M0,0h0v0h0Z" pointer-events="none"/><g><g class="mark-text role-title-text" role="graphics-symbol" aria-roledescription="title" aria-label="Title text 'California Industry Wage Comparison'" pointer-events="none"><text text-anchor="middle" transform="translate(0,10)" font-family="sans-serif" font-size="13px" font-weight="bold" fill="#000" opacity="1">California Industry Wage Comparison</text></g></g><path class="foreground" aria-hidden="true" d="" pointer-events="none" display="none"/></g></g></g><path class="foreground" aria-hidden="true" d="" display="none"/></g></g><g class="mark-group role-scope concat_1_group" role="graphics-object" aria-roledescription="group mark container"><g transform="translate(0,173)"><path class="background" aria-hidden="true" d="M0,0h20v20h-20Z"/><g><g class="mark-text role-mark concat_1_marks" role="graphics-object" aria-roledescription="text mark container"><text aria-label="text: Jobs in state-owned correctional facilities.,Sources: ACLU analysis of California Department of Corrections Data,California Employment Development Department" role="graphics-symbol" aria-roledescription="text mark" text-anchor="start" transform="translate(10,8)" font-family="sans-serif" font-size="10px" fill="black"><tspan>Jobs in state-owned correctional facilities.</tspan><tspan x="0" dy="12">Sources: ACLU analysis of California Department of Corrections Data</tspan><tspan x="0" dy="12">California Employment Development Department</tspan></text></g></g><path class="foreground" aria-hidden="true" d="" display="none"/></g></g></g><path class="foreground" aria-hidden="true" d="" display="none"/></g></g></g></svg>
        </div>

        <div class="scroll">
            <p>Analysis of Graph 2
            </p>
        </div>
        <div class="scroll">
            <p>Let's imagine someone working for $0.35 and living in Bakersfield, California. Here's how much some common purchases would cost
                in terms of their time.
            </p>
        </div>
        <div class="scroll">
            <svg width="600" height="300" viewBox="0 0 600 300">
                <circle cx="300" cy="150" r="100" fill="#7C7C7C"></circle>
                <text x="200" y="150" dx="10" dy="10" fill="black" font-size="10">A loaf of bread costs 11.6 hours.</text>
            </svg>
        </div>
        <div class="scroll">
            <svg width="600" height="300" viewBox="0 0 600 300">
                <circle cx="10" cy="150" r="3" fill="#7C7C7C"></circle>
                <circle cx="300" cy="150" r="100" fill="#EFC88B"></circle>
                <text x="300" y="150" dx="10" dy="10" fill="black" font-size="10">A visit to the doctor costs 386 hours.</text>
            </svg>
        </div>
        <div class="scroll">
            <svg width="600" height="300" viewBox="0 0 600 300">
                <circle cx="0" cy="150" r="1" fill="#7C7C7C"></circle>
                <circle cx="100" cy="150" r="38.5" fill="#EFC88B"></circle>
                <circle cx="300" cy="150" r="100" fill="#CF5C36"></circle>
                <text x="300" y="150" dx="10" dy="10" fill="black" font-size="10">The average monthly energy bill costs 1000 hours.</text>
            </svg>
        </div>
        <div class="scroll">
            <svg width="600" height="300" viewBox="0 0 600 300">
                <circle cx="0" cy="150" r="1" fill="#7C7C7C"></circle>
                <circle cx="100" cy="150" r="8.5" fill="#EFC88B"></circle>
                <circle cx="250" cy="150" r="22" fill="#CF5C36"></circle>
                <circle cx="450" cy="150" r="100" fill="#7C7C7C"></circle>
                <text x="450" y="150" dx="10" dy="10" fill="black" font-size="10">Median rent for an apartment costs 4,520 hours - 188 days.</text>
            </svg>
        </div>
    </div>
    <script>

    const scrolls = document.querySelectorAll(".scroll");


    const observerOptions = {
        root: null,       
        threshold: 0.5,   
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
        if (entry.isIntersecting) {
            scrolls.forEach(step => step.classList.remove("current"));
            entry.target.classList.add("current");
        }
        });
    }, observerOptions);

    scrolls.forEach(scrolls => observer.observe(scrolls));

    const svg = d3.select("#first_chart");
    const bars = svg.selectAll("path[aria-roledescription='bar']");

    bars.each(function () {
        this.dataset.originalD = this.getAttribute("d");
    });

    bars.attr("d", function () {
        const original = this.dataset.originalD;
        const parts = original.match(/M0,([0-9.]+)h([0-9.]+)v([0-9.]+)/);

        const y = parseFloat(parts[1]);
        const height = parseFloat(parts[3]);

        return `M0,${y}h0v${height}h0Z`;
    });

    function animateBars() {
        bars.transition()
            .duration(1200)
            .attrTween("d", function () {
                const original = this.dataset.originalD;
                const parts = original.match(/M0,([0-9.]+)h([0-9.]+)v([0-9.]+)/);

                const y = parseFloat(parts[1]);
                const finalWidth = parseFloat(parts[2]);
                const height = parseFloat(parts[3]);

                return function (t) {
                    const w = t * finalWidth;
                    return `M0,${y}h${w}v${height}h-${w}Z`;
                };
            });
    }

    const chartObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                animateBars();
            }
        });
    }, { threshold: 0.5 });

    chartObserver.observe(document.querySelector("#first_chart"));

    </script>
    </body>
</html>


